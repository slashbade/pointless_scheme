\chapter{Basic Properties of Schemes}

\section{Open and Closed Sublocales}

\begin{definition}[Open Sublocale]
  \label{def:open-sublocale}
  \uses{def:locale}
  \lean{}
  An open sublocale of a locale $X$ is determined by an open $u \in X$. 
  The frame of opens of the sublocale is:
  $$\mathcal{O}(u) := \{v \in X : v \leq u\} = \downarrow u$$
  with the induced lattice operations from $X$.
\end{definition}

\begin{definition}[Closed Sublocale]
  \label{def:closed-sublocale}
  \uses{def:locale, def:radical-ideal}
  \lean{}
  A closed sublocale of $\mathrm{Spec} R$ corresponds to a radical ideal $I \in \mathrm{Rad}(R)$ and is denoted $V(I)$.
  The closed sublocale is:
  $$V(I) := \{J \in \mathrm{Rad}(R) : I \subseteq J\} = \uparrow I$$
  with the induced lattice operations from $\mathrm{Rad}(R)$.
\end{definition}

\begin{lemma}[Closed Sublocales are Closed under Unions]
  \label{lemma:closed-sublocales-unions}
  \uses{def:closed-sublocale}
  \lean{}
  Arbitrary intersections of closed sublocales are closed: if $(I_j)_{j \in J}$ are radical ideals, then $V(I_j)$ 
  are closed and $\bigcap_j V(I_j) = V(\sum_j I_j) = V(\bigvee_j I_j)$.
\end{lemma}

\begin{proof}
  A radical ideal $K$ is in the intersection $\bigcap_j V(I_j)$ iff $I_j \subseteq K$ for all $j$ iff $\sum_j I_j \subseteq K$ 
  iff $\sqrt{\sum_j I_j} \subseteq K$ iff $\bigvee_j D(I_j) \subseteq K$ iff $K \in V(\sum_j I_j)$.
\end{proof}

\section{Irreducibility and Primeness}

\begin{definition}[Prime Element in a Frame]
  \label{def:prime-frame-element}
  \uses{def:frame}
  \lean{}
  An element $p$ of a frame $L$ is \emph{prime} if whenever $p \leq a \lor b$, we have $p \leq a$ or $p \leq b$.
\end{definition}

\begin{definition}[Prime Ideal]
  \label{def:prime-ideal}
  \uses{def:radical-ideal}
  \lean{}
  An ideal $\mathfrak{p} \in \mathrm{Rad}(R)$ is \emph{prime} if it is a prime element in the frame $\mathrm{Rad}(R)$.
  
  Equivalently: $\mathfrak{p}$ is prime if $\mathfrak{p} \neq R$ and whenever $fg \in \mathfrak{p}$, we have $f \in \mathfrak{p}$ or $g \in \mathfrak{p}$.
\end{definition}

\begin{lemma}[Primeness in the Frame]
  \label{lemma:prime-frame-criterion}
  \uses{def:prime-ideal, def:prime-frame-element}
  \lean{}
  A radical ideal $\mathfrak{p}$ is prime iff: $\mathfrak{p} \leq I \lor J \implies \mathfrak{p} \leq I \text{ or } \mathfrak{p} \leq J$ 
  for all radical ideals $I, J$.
\end{lemma}

\begin{proof}
  In the frame $\mathrm{Rad}(R)$, the order is inclusion. So $\mathfrak{p} \leq I \lor J$ means $\mathfrak{p} \subseteq I \lor J = \sqrt{I + J}$.
  
  This means $\mathfrak{p}^n \subseteq I + J$ for some $n$... actually, $\mathfrak{p}$ is radical, so $\mathfrak{p} \subseteq \sqrt{I + J}$.
  
  If every element of $\mathfrak{p}$ is in $I + J$, and $\mathfrak{p}$ is prime, then $\mathfrak{p} \subseteq I$ or $\mathfrak{p} \subseteq J$.
  
  This is the standard prime ideal criterion.
\end{proof}

\begin{theorem}[Prime Ideals as Specialization-Prime]
  \label{thm:prime-ideals-specialization}
  \uses{def:prime-ideal}
  \lean{}
  A radical ideal $\mathfrak{p} \in \mathrm{Rad}(R)$ is prime iff $\mathfrak{p}$ is the set of elements that specialize to a fixed point 
  in the topological spectrum (if we were to use points). Pointfree, this means $\mathfrak{p}$ is exactly the closure of the empty set 
  in the principal filter $\uparrow \mathfrak{p}$.
\end{theorem}

\begin{proof}
  This is a translation of the standard prime ideal property to the pointfree setting. Specialization in a locale is defined 
  by the order relation in the frame.
\end{proof}

\section{Irreducible Schemes}

\begin{definition}[Irreducible Locale]
  \label{def:irreducible-locale}
  \uses{def:locale}
  \lean{}
  A locale $X$ is \emph{irreducible} if the frame $\mathcal{O}(X)$ has no non-trivial prime elements... 
  wait, that doesn't seem right. Let me reconsider.
  
  Actually, a locale is irreducible if it is non-empty and is not the union of two proper closed sublocales.
\end{definition}

\begin{definition}[Irreducible Scheme (Pointfree)]
  \label{def:irreducible-scheme}
  \uses{def:scheme-pointfree}
  \lean{}
  A scheme $X$ is \emph{irreducible} if its underlying locale is irreducible, i.e., 
  the only way to write $\top = u \lor v$ (where $u, v$ are opens) is if $u = \top$ or $v = \top$.
\end{definition}
